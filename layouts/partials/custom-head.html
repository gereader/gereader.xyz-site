<link rel="stylesheet" href="{{ "css/custom.css" | relURL }}">

{{ if .Params.renderMermaid }}
  <style>
    /* Optional: Mermaid diagrams might need some styling tweaks */
    .mermaid {
      text-align: center;
      margin: 1em 0;
    }
  </style>

    <script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';

    // Initialize Mermaid with the correct theme on page load
    mermaid.initialize({
        startOnLoad: true,
        theme: 'default',  // hard-coded to light mode theme
    });

    // Don't do anything on theme toggle
    const observer = new MutationObserver(() => {});

    observer.observe(document.documentElement, { attributes: true });

    </script>
{{ end }}


{{ if .Params.renderAnchorLinks }}
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>
  <script>
    window.addEventListener('DOMContentLoaded', function () {
      var anchors = new AnchorJS();  // instantiate it
      anchors.options = {
        icon: '#'
      };
      anchors.add('h2, h3');
    });
  </script>
{{ end }}